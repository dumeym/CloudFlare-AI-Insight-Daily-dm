好，下面这份就是**可以直接丢给 Cursor / Claude Code / Copilot 做 vibe coding 的「工程级 Spec」**。
它不是说明文，而是**“照着做就能跑起来”的设计约束**。

---

# 📘 Spec：企业微信群 · 每日极简 AI 简讯系统

## 1. 目标（Goal）

在**企业微信群（AI 学习群）**中，
**每天固定时间**，
通过 **企业微信群 Webhook 机器人**，
推送 **一条极简、非营销、偏资讯/内参风格的 AI 简讯**。

系统要求：

* 全自动
* 低维护
* 合规、低风控风险
* 信息密度高但字数极少

---

## 2. 使用者与权限前提（Constraints）

* 使用者 **没有企业微信管理后台权限**
* 但 **可以在目标群内创建 Webhook 机器人**
* 不使用企业微信自建应用
* 不使用个人号自动化

👉 推送机制 **必须基于企业微信群 Webhook**

---

## 3. 整体架构（High-level Architecture）

```
信息源
  ↓
内容抓取 / 聚合
  ↓
AI 内容生成（极简）
  ↓
内容格式化
  ↓
Webhook 推送
  ↓
企业微信群
```

职责严格分层，**不允许耦合**。

---

## 4. 信息源（Information Sources）

### 4.1 必选信息源

* RSS / Feed 聚合源

  * 例如：AI 相关新闻、研究、产品更新
  * 可通过 Folo 或标准 RSS 获取

### 4.2 可选补充源（后续）

* 官方博客（OpenAI / Google / Anthropic 等）
* 已知可信 AI Newsletter 的 RSS

⚠️ 原则：

* 信息源 **数量少**
* 重质量，不追求覆盖面

---

## 5. 内容生成服务（AI Layer）

### 5.1 使用的 AI 服务

* **DeepSeek V3**（高性价比国内 LLM）
* 仅用于：

  * 摘要
  * 判断
  * 归纳

不用于：

* 情绪化表达
* 观点输出
* 教育说教

**选择理由：**
* 输入 1 元/百万 tokens，输出 2 元/百万 tokens
* 每月成本约 0.015 元（完全可承受）
* API 稳定，中文能力强

---

### 5.2 AI 输出约束（非常重要）

AI **必须输出结构化结果**，例如：

```json
{
  "title": "一句话判断",
  "summary": "2~3 行简述事实或变化"
}
```

硬性限制：

* 总字数 ≤ 80 中文字
* 不使用感叹号
* 不使用“你必须 / 一定要”
* 不使用营销话术

---

## 6. 内容风格规范（Tone & Style Spec）

这是系统级约束，必须写进 prompt 或 post-process。

### 6.1 允许的风格

* 内部简报
* 系统提示
* 事实 + 判断

示例（语义）：

> 今天一个值得注意的变化
> Gemini 在代码推理任务上的表现有明显提升，部分基准已接近 GPT-4 水平。

### 6.2 禁止的风格

* “你一定要看”
* “震惊 / 必须 / 颠覆”
* 自媒体口吻
* AI 味过重的总结

---

## 7. 内容生成模块（Content Engine）

### 7.1 复用仓库

* 基于 `CloudFlare-AI-Insight-Daily`
* 只保留：

  * 抓取
  * 摘要
  * 结构化输出

### 7.2 输出形式

* 纯文本文件 或 JSON 文件
* 每天只生成 **一条**

例如：

```
output/today.json
```

---

## 8. 推送机制（Delivery Mechanism）

### 8.1 推送方式

* **企业微信群 Webhook 机器人**
* HTTP POST

### 8.2 Webhook 安全要求

* Webhook URL：

  * 只存放在环境变量
  * 不提交到仓库
* 单群使用，不复用到多个群

---

### 8.3 推送内容类型

优先级顺序：

1. 普通文本（最稳）
2. Markdown（次稳）
3. 卡片（仅在稳定后考虑）

### 8.4 推送频率约束

* **一天一次**
* 固定时间（如 09:30）
* 永不突破

---

## 9. 定时机制（Scheduling）

**使用 GitHub Actions Cron**

* GitHub 仓库：`https://github.com/dumeym/AI-insight-daily-dm.git`
* 触发方式：GitHub Actions 定时任务
* 环境变量管理：GitHub Secrets

要求：

* 内容生成完成 → 再推送
* 失败不重试刷屏
* 失败记录日志即可

---

## 10. 风控与合规约束（Hard Rules）

系统 **禁止**：

* 高频推送
* 多群复制
* 外部灰色链接
* 营销 CTA
* 个性化 @ 人

系统 **必须**：

* 像“系统播报”
* 像“内部信息板”
* 不主动制造互动

---

## 11. MVP 成功标准（Definition of Done）

以下全部满足，即视为成功：

* [ ] 群里每天收到 **一条** 固定时间的 AI 简讯
* [ ] 连续运行 7 天无异常
* [ ] 群成员无反感反馈
* [ ] Webhook 未被禁用

---

## 12. 后续可扩展方向（Not in MVP）

明确不在第一阶段做：

* 多群分发
* 互动式机器人
* 个性化推荐
* 数据分析

---

## 一句话总结（给 AI IDE 的）

> 构建一个低频、单向、系统播报式的 AI 资讯推送系统。
> 内容由 AI 自动生成，但表达必须克制、像内部简报。
> 推送通过企业微信群 Webhook，每天一次，固定时间。

---

如果你愿意，下一步我可以直接帮你把这份 spec **改写成「给 Cursor / Claude Code 的指令版本」**，
或者直接帮你拆成：

* Prompt Spec
* 文件结构 Spec
* Webhook Payload Spec

你说一句「继续」，我就往下给你落到代码层。
